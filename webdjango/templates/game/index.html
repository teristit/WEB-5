{% extends 'game/base.html' %}

{% block title %}Django Platformer - –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
<div class="card">
    <h1>üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Django Platformer!</h1>
    <p style="font-size: 1.2rem; margin-bottom: 2rem;">
        –ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä 2D –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä–∞ –ø—Ä—è–º–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ!
    </p>
    
    <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
        <a href="{% url 'game:game' %}" class="btn btn-primary" style="font-size: 1.1rem;">
            üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        </a>
        <a href="{% url 'game:leaderboard' %}" class="btn">
            üèÜ –†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤
        </a>
        <a href="{% url 'game:achievements' %}" class="btn">
            ‚≠ê –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        </a>
    </div>
</div>

<div class="card">
    <h2>‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã</h2>
    <div class="grid">
        <div class="grid-item">
            <h3>üéØ –£—Ä–æ–≤–Ω–∏</h3>
            <p>–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Ä–æ–≤–Ω–µ–π —Å –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é</p>
        </div>
        <div class="grid-item">
            <h3>üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</h3>
            <p>–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
        </div>
        <div class="grid-item">
            <h3>üèÜ –†–µ–π—Ç–∏–Ω–≥</h3>
            <p>–°–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏</p>
        </div>
        <div class="grid-item">
            <h3>‚≠ê –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
            <p>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ —É—Å–ø–µ—Ö–∏</p>
        </div>
        <div class="grid-item">
            <h3>üåê –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä</h3>
            <p>–ò–≥—Ä–∞–π—Ç–µ —Å –¥—Ä—É–∑—å—è–º–∏ –æ–Ω–ª–∞–π–Ω</p>
        </div>
        <div class="grid-item">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
        </div>
    </div>
</div>

{% if levels %}
<div class="card">
    <h2>üéÆ –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Ä–æ–≤–Ω–∏</h2>
    <div class="grid">
        {% for level in levels %}
        <div class="grid-item">
            <h3>{{ level.name }}</h3>
            <p>–°–ª–æ–∂–Ω–æ—Å—Ç—å: {% for i in "x"|ljust:level.difficulty %}‚≠ê{% endfor %}</p>
            <a href="{% url 'game:game_level' level.id %}" class="btn" style="margin-top: 1rem;">
                –ò–≥—Ä–∞—Ç—å ‚Üí
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if leaderboard %}
<div class="card">
    <h2>üèÜ –¢–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤</h2>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>–ò–≥—Ä–æ–∫</th>
                <th>–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</th>
                <th>–í—Å–µ–≥–æ –∏–≥—Ä</th>
            </tr>
        </thead>
        <tbody>
            {% for player in leaderboard %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ player.user.username }}</td>
                <td>{{ player.best_score }}</td>
                <td>{{ player.games_played }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{% url 'game:leaderboard' %}" class="btn" style="margin-top: 1rem;">
        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ ‚Üí
    </a>
</div>
{% endif %}

{% if not user.is_authenticated %}
<div class="card" style="text-align: center;">
    <h2>üîê –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å!</h2>
    <p style="margin-bottom: 1.5rem;">
        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
    </p>
    <div style="display: flex; gap: 1rem; justify-content: center;">
        <button onclick="showLoginModal()" class="btn btn-primary">–í–æ–π—Ç–∏</button>
        <button onclick="showRegisterModal()" class="btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>
</div>
{% endif %}

<div class="card">
    <h2>‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ</h2>
    <p>
        Django Platformer - —ç—Ç–æ –≤–µ–±-–≤–µ—Ä—Å–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ 2D –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä–∞, —Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Django.
        –ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä.
    </p>
    <p style="margin-top: 1rem;">
        <strong>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</strong> Django 4.2, WebSockets (Channels), Canvas API, Redis
    </p>
</div>
{% endblock %}

{% block extra_js %}
<script>
function showLoginModal() {
    // TODO: Implement login modal
    alert('–§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /admin/ –¥–ª—è –≤—Ö–æ–¥–∞.');
}

function showRegisterModal() {
    // TODO: Implement register modal
    alert('–§—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /admin/ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.');
}
</script>
{% endblock %}
